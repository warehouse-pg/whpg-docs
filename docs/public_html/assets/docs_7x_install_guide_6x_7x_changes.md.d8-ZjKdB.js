import{_ as t,c as a,o,ag as n}from"./chunks/framework.Ds6Eueu6.js";const g=JSON.parse('{"title":"Important Changes Between WHPG 6 and WHPG 7","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/install_guide/6x_7x_changes.md","filePath":"docs/7x/install_guide/6x_7x_changes.md"}'),r={name:"docs/7x/install_guide/6x_7x_changes.md"};function s(i,e,h,d,l,c){return o(),a("div",null,e[0]||(e[0]=[n('<h1 id="important-changes-between-whpg-6-and-whpg-7" tabindex="-1">Important Changes Between WHPG 6 and WHPG 7 <a class="header-anchor" href="#important-changes-between-whpg-6-and-whpg-7" aria-label="Permalink to &quot;Important Changes Between WHPG 6 and WHPG 7&quot;">​</a></h1><hr><p>There are a substantial number of changes between WarehousePG 6 and WarehousePG 7 that could potentially affect your existing 6 application when you move to 7. This topic provides information about these changes.</p><h2 id="naming-changes" tabindex="-1"><a id="naming_changes"></a>Naming Changes <a class="header-anchor" href="#naming-changes" aria-label="Permalink to &quot;&lt;a id=&quot;naming_changes&quot;&gt;&lt;/a&gt;Naming Changes&quot;">​</a></h2><p>The following table summarizes naming changes in WarehousePG 7:</p><table tabindex="0"><thead><tr><th>Old Name</th><th>New Name</th></tr></thead><tbody><tr><td>master</td><td>coordinator</td></tr><tr><td>pg_log</td><td>log</td></tr><tr><td>pg_xlog</td><td>pg_wal</td></tr><tr><td>pg_clog</td><td>pg_xact</td></tr><tr><td>xlog (includes SQL functions, tools and options)</td><td>wal</td></tr><tr><td>pg_xlogdump</td><td>pg_waldump</td></tr><tr><td>pg_resetxlog</td><td>pg_resetwal</td></tr></tbody></table><h2 id="deprecated-features" tabindex="-1"><a id="deprecated"></a>Deprecated Features <a class="header-anchor" href="#deprecated-features" aria-label="Permalink to &quot;&lt;a id=&quot;deprecated&quot;&gt;&lt;/a&gt;Deprecated Features&quot;">​</a></h2><p>The following features have been deprecated in WarehousePG 7:</p><ul><li>The <code>gpreload</code> utility. Instead, use <code>ALTER TABLE...REPACK BY</code>.</li></ul><h2 id="changes-in-feature-behavior" tabindex="-1"><a id="behavior"></a>Changes in Feature Behavior <a class="header-anchor" href="#changes-in-feature-behavior" aria-label="Permalink to &quot;&lt;a id=&quot;behavior&quot;&gt;&lt;/a&gt;Changes in Feature Behavior&quot;">​</a></h2><p>The following feature behaviors have changed in WarehousePG 7:</p><ul><li><p>The <code>checkpoint_segments</code> parameter in the <code>postgresql.conf</code> file has been removed. Use the server configuration parameters <code>min_wal_size</code> and <code> max_wal_size</code>, instead.</p></li><li><p>Autovacuum is now enabled by default for all databases.</p></li><li><p>Pattern matching behavior of the <code>substring()</code> function has changed. In cases where the pattern can be matched in more than one way, the initial subpattern is now treated as matching the least possible amount of text rather than the greatest; for example, a pattern such as <code>%#“aa*#”%</code> now selects the first group of <code>a</code>’s from the input, rather than the last group.</p></li><li><p>Multi-dimensional arrays can now be passed into PL/Python functions, and returned as nested Python lists - Previously, you could return an array of composite values by writing, for exmaple, <code>[[col1, col2], [col1, col2]]</code>. Now, this is interpreted as a two-dimensional array. Composite types in arrays must now be written as Python tuples, not lists, to resolve the ambiguity; that is, you must write <code>[(col1, col2), (col1, col2)]</code>, instead.</p></li><li><p>When <code>x</code> is a table name or composite column, PostgreSQL has traditionally considered the syntactic forms <code>f(x)</code> and <code>x.f</code> to be equivalent, allowing tricks such as writing a function and then using it as though it were a computed-on-demand column. However, if both interpretations are feasible, the column interpretation was always chosen. Now, if there is ambiguity, the interpretation that matches the syntactic form is chosen.</p></li><li><p>WarehousePG 7 now prevents the <code>to_number()</code> function from consuming characters when the template separator does not match​. For example, <code>SELECT to_number(‘1234’, ‘9,999’)</code> used to return <code>134</code>. It will now return <code>1234</code>, instead. L and TH now only consume characters that are not digits, positive/negative signs, decimal points, or commas.​</p></li><li><p>The <code>fix to_date()</code>, <code>to_number()</code>, and <code>to_timestamp()</code> functions previously skipped one byte for each byte of template character, resulting in strange behavior if either string contained multibyte characters.​ Adjust the handling of backslashes inside double-quotes in template strings for to_char(), to_number(), and to_timestamp().​ Such a backslash now escapes the character after it, particularly a double-quote or another backslash.</p></li></ul><h2 id="other-important-changes-in-warehousepg-7" tabindex="-1"><a id="linked"></a>Other Important Changes in WarehousePG 7 <a class="header-anchor" href="#other-important-changes-in-warehousepg-7" aria-label="Permalink to &quot;&lt;a id=&quot;linked&quot;&gt;&lt;/a&gt;Other Important Changes in WarehousePG 7&quot;">​</a></h2><p>WarehousePG 7 also:</p><ul><li><p>Removes some features and objects that were in Greeplum 6. See <a href="./../ref_guide/removed-features-objects.html">Features and Objects Removed in WarehousePG 7</a>.</p></li><li><p>Changes some server configuration parameters. See <a href="./../ref_guide/guc-changes-6to7.html">Server Configuration Parameter Changes from WarehousePG 6 to WarehousePG 7</a>.</p></li><li><p>Changes the partitioning system catalogs. See <a href="./../admin_guide/ddl/about-part-changes.html">Changes in Partitioning</a> and <a href="./migrate-classic-partitioning.html">Migrating Partition Maintenance Scripts to the New WarehousePG 7 Partitioning Catalogs</a>.</p></li><li><p>Makes changes to external tables. See <a href="./../admin_guide/external/about_exttab_7.html.html">Changes to External Tables</a>.</p></li><li><p>Makes changes to resource groups. See <a href="./../admin_guide/about-resgroups-changes.html">Changes to Resource Groups</a>.</p></li><li><p>Makes changes to system views and system tables. See <a href="./../ref_guide/system-changes-6to7.html">System Catalog Changes between WarehousePG 6 and WarehousePG 7</a>.</p></li></ul>',15)]))}const p=t(r,[["render",s]]);export{g as __pageData,p as default};
