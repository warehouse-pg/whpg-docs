import{_ as a,c as t,o as n,ag as s}from"./chunks/framework.Ds6Eueu6.js";const u=JSON.parse('{"title":"ALTER FUNCTION","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/ref_guide/sql_commands/ALTER_FUNCTION.md","filePath":"docs/7x/ref_guide/sql_commands/ALTER_FUNCTION.md"}'),o={name:"docs/7x/ref_guide/sql_commands/ALTER_FUNCTION.md"};function i(c,e,r,p,l,d){return n(),t("div",null,e[0]||(e[0]=[s(`<h1 id="alter-function" tabindex="-1">ALTER FUNCTION <a class="header-anchor" href="#alter-function" aria-label="Permalink to &quot;ALTER FUNCTION&quot;">​</a></h1><p>Changes the definition of a function.</p><h2 id="synopsis" tabindex="-1"><a id="section2"></a>Synopsis <a class="header-anchor" href="#synopsis" aria-label="Permalink to &quot;&lt;a id=&quot;section2&quot;&gt;&lt;/a&gt;Synopsis&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER FUNCTION &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ] </span></span>
<span class="line"><span>   &lt;action&gt; [, ... ] [RESTRICT]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ALTER FUNCTION &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ]</span></span>
<span class="line"><span>   RENAME TO &lt;new_name&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ALTER FUNCTION &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ]</span></span>
<span class="line"><span>   OWNER TO { &lt;new_owner&gt; | CURRENT_USER | SESSION_USER }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ALTER FUNCTION &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ]</span></span>
<span class="line"><span>   SET SCHEMA &lt;new_schema&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ALTER FUNCTION &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ]</span></span>
<span class="line"><span>   DEPENDS ON EXTENSION &lt;extension_name&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>where &lt;action&gt; is one of:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    { CALLED ON NULL INPUT | RETURNS NULL ON NULL INPUT | STRICT }</span></span>
<span class="line"><span>    { IMMUTABLE | STABLE | VOLATILE }</span></span>
<span class="line"><span>    [ NOT ] LEAKPROOF</span></span>
<span class="line"><span>    { [EXTERNAL] SECURITY INVOKER | [EXTERNAL] SECURITY DEFINER }</span></span>
<span class="line"><span>    PARALLEL { UNSAFE | RESTRICTED | SAFE }</span></span>
<span class="line"><span>    EXECUTE ON { ANY | COORDINATOR | ALL SEGMENTS | INITPLAN }</span></span>
<span class="line"><span>    COST &lt;execution_cost&gt;</span></span>
<span class="line"><span>    ROWS &lt;result_rows&gt;</span></span>
<span class="line"><span>    SUPPORT &lt;support_function&gt;</span></span>
<span class="line"><span>    SET &lt;configuration_parameter&gt; { TO | = } { &lt;value&gt; | DEFAULT }</span></span>
<span class="line"><span>    SET &lt;configuration_parameter&gt; FROM CURRENT</span></span>
<span class="line"><span>    RESET &lt;configuration_parameter&gt;</span></span>
<span class="line"><span>    RESET ALL</span></span></code></pre></div><h2 id="description" tabindex="-1"><a id="section3"></a>Description <a class="header-anchor" href="#description" aria-label="Permalink to &quot;&lt;a id=&quot;section3&quot;&gt;&lt;/a&gt;Description&quot;">​</a></h2><p><code>ALTER FUNCTION</code> changes the definition of a function.</p><p>You must own the function to use <code>ALTER FUNCTION</code>. To change a function&#39;s schema, you must also have <code>CREATE</code> privilege on the new schema. To alter the owner, you must also be a direct or indirect member of the new owning role, and that role must have <code>CREATE</code> privilege on the function&#39;s schema. (These restrictions enforce that altering the owner does not do anything you could not do by dropping and recreating the function. However, a superuser can alter ownership of any function anyway.)</p><h2 id="parameters" tabindex="-1"><a id="section4"></a>Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;&lt;a id=&quot;section4&quot;&gt;&lt;/a&gt;Parameters&quot;">​</a></h2><p>name : The name (optionally schema-qualified) of an existing function. If no argument list is specified, the name must be unique in its schema.</p><p>argmode : The mode of an argument: either <code>IN</code>, <code>OUT</code>, <code>INOUT</code>, or <code>VARIADIC</code>. If omitted, the default is <code>IN</code>. Note that <code>ALTER FUNCTION</code> does not actually pay any attention to <code>OUT</code> arguments, since only the input arguments are needed to determine the function&#39;s identity. So it is sufficient to list the <code>IN</code>, <code>INOUT</code>, and <code>VARIADIC</code> arguments.</p><p>argname : The name of an argument. Note that <a href="./ALTER_FUNCTION.html">ALTER FUNCTION</a> does not actually pay any attention to argument names, since only the argument data types are needed to determine the function&#39;s identity.</p><p>argtype : The data type(s) of the function&#39;s arguments (optionally schema-qualified), if any.</p><p>new_name : The new name of the function.</p><p>new_owner : The new owner of the function. Note that if the function is marked <code>SECURITY DEFINER</code>, it will subsequently run as the new owner.</p><p>new_schema : The new schema for the function.</p><p>extension_name : The name of the extension that the function is to depend on.</p><p>CALLED ON NULL INPUT RETURNS NULL ON NULL INPUT STRICT : <code>CALLED ON NULL INPUT</code> changes the function so that it will be invoked when some or all of its arguments are null. <code>RETURNS NULL ON NULL INPUT</code> or <code>STRICT</code> changes the function so that it is not invoked if any of its arguments are null; instead, a null result is assumed automatically. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for more information.</p><p>IMMUTABLE STABLE VOLATILE : Change the volatility of the function to the specified setting. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for details.</p><p>[ EXTERNAL ] SECURITY INVOKER [ EXTERNAL ] SECURITY DEFINER : Change whether the function is a security definer or not. The key word <code>EXTERNAL</code> is ignored for SQL conformance. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for more information about this capability.</p><p>PARALLEL : Change whether the function is deemed safe for parallelism. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for details.</p><p>LEAKPROOF : Change whether the function is considered leakproof or not. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for more information about this capability.</p><p>EXECUTE ON ANY EXECUTE ON COORDINATOR EXECUTE ON ALL SEGMENTS EXECUTE ON INITPLAN : The <code>EXECUTE ON</code> attributes specify where (coordinator or segment instance) a function runs when it is invoked during the query execution process.</p><p>: <code>EXECUTE ON ANY</code> (the default) indicates that the function can be run on the coordinator, or any segment instance, and it returns the same result regardless of where it is run. WarehousePG determines where the function runs.</p><p>: <code>EXECUTE ON COORDINATOR</code> indicates that the function must run only on the coordinator instance.</p><p>: <code>EXECUTE ON ALL SEGMENTS</code> indicates that the function must run on all primary segment instances, but not the coordinator, for each invocation. The overall result of the function is the <code>UNION ALL</code> of the results from all segment instances.</p><p>: <code>EXECUTE ON INITPLAN</code> indicates that the function contains an SQL command that dispatches queries to the segment instances and requires special processing on the coordinator instance by WarehousePG when possible.</p><p>: For more information about the <code>EXECUTE ON</code> attributes, see <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a>.</p><p>COST execution_cost : Change the estimated execution cost of the function. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for more information.</p><p>ROWS result_rows : Change the estimated number of rows returned by a set-returning function. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for more information.</p><p>SUPPORT support_function : Set or change the planner support function to use for this function. You must be superuser to use this option. : This option cannot be used to remove the support function altogether, since it must name a new support function. Use <code>CREATE OR REPLACE FUNCTION</code> if you require that.</p><p>configuration_parameter value : Set or change the value of a configuration parameter when the function is called. If value is <code>DEFAULT</code> or, equivalently, <code>RESET</code> is used, the function-local setting is removed, and the function runs with the value present in its environment. Use <code>RESET ALL</code> to clear all function-local settings. <code>SET FROM CURRENT</code> saves the value of the parameter that is current when <code>ALTER FUNCTION</code> is run as the value to be applied when the function is entered. : See <a href="./SET.html">SET</a> for more information about allowed parameter names and values.</p><p>RESTRICT : Ignored for conformance with the SQL standard.</p><h2 id="notes" tabindex="-1"><a id="section5"></a>Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;&lt;a id=&quot;section5&quot;&gt;&lt;/a&gt;Notes&quot;">​</a></h2><p>WarehousePG has limitations on the use of functions defined as <code>STABLE</code> or <code>VOLATILE</code>. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for more information.</p><h2 id="examples" tabindex="-1"><a id="section6"></a>Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;&lt;a id=&quot;section6&quot;&gt;&lt;/a&gt;Examples&quot;">​</a></h2><p>To rename the function <code>sqrt</code> for type <code>integer</code> to <code>square_root</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER FUNCTION sqrt(integer) RENAME TO square_root;</span></span></code></pre></div><p>To change the owner of the function <code>sqrt</code> for type <code>integer</code> to <code>joe</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER FUNCTION sqrt(integer) OWNER TO joe;</span></span></code></pre></div><p>To change the schema of the function <code>sqrt</code> for type <code>integer</code> to <code>maths</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER FUNCTION sqrt(integer) SET SCHEMA maths;</span></span></code></pre></div><p>To mark the function <code>sqrt</code> for type <code>integer</code> as being dependent on the extension <code>mathlib</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER FUNCTION sqrt(integer) DEPENDS ON EXTENSION mathlib;</span></span></code></pre></div><p>To adjust the search path that is automatically set for a function:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER FUNCTION check_password(text) search_path = admin, pg_temp;</span></span></code></pre></div><p>To disable automatic setting of <code>search_path</code> for a function:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER FUNCTION check_password(text) RESET search_path;</span></span></code></pre></div><p>The function will now execute with whatever search path is used by its caller.</p><h2 id="compatibility" tabindex="-1"><a id="section7"></a>Compatibility <a class="header-anchor" href="#compatibility" aria-label="Permalink to &quot;&lt;a id=&quot;section7&quot;&gt;&lt;/a&gt;Compatibility&quot;">​</a></h2><p>This statement is partially compatible with the <code>ALTER FUNCTION</code> statement in the SQL standard. The standard allows more properties of a function to be modified, but does not provide the ability to rename a function, make a function a security definer, attach configuration parameter values to a function, or change the owner, schema, or volatility of a function. The standard also requires the <code>RESTRICT</code> key word, which is optional in WarehousePG.</p><h2 id="see-also" tabindex="-1"><a id="section8"></a>See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;&lt;a id=&quot;section8&quot;&gt;&lt;/a&gt;See Also&quot;">​</a></h2><p><a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a>, <a href="./DROP_FUNCTION.html">DROP FUNCTION</a>, <a href="./ALTER_PROCEDURE.html">ALTER PROCEDURE</a>, <a href="./ALTER_ROUTINE.html">ALTER ROUTINE</a></p><p><strong>Parent topic:</strong> <a href="./../sql_commands/sql_ref.html">SQL Commands</a></p>`,53)]))}const T=a(o,[["render",i]]);export{u as __pageData,T as default};
