import{_ as t,c as o,o as i,ag as c}from"./chunks/framework.Ds6Eueu6.js";const f=JSON.parse('{"title":"gpfdists:// Protocol","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/admin_guide/external/gpfdists-protocol.md","filePath":"docs/7x/admin_guide/external/gpfdists-protocol.md"}'),d={name:"docs/7x/admin_guide/external/gpfdists-protocol.md"};function r(s,e,a,l,n,p){return i(),o("div",null,e[0]||(e[0]=[c('<h1 id="gpfdists-protocol" tabindex="-1">gpfdists:// Protocol <a class="header-anchor" href="#gpfdists-protocol" aria-label="Permalink to &quot;gpfdists:// Protocol&quot;">​</a></h1><hr><p>The <code>gpfdists://</code> protocol is a secure version of the <code>gpfdist:// protocol</code>.</p><p>To use it, you run the <a href="./../../utility_guide/ref/gpfdist.html">gpfdist</a> utility with the <code>--ssl</code> option. When specified in a URI, the <code>gpfdists://</code> protocol enables encrypted communication and secure identification of the file server and the WarehousePG to protect against attacks such as eavesdropping and man-in-the-middle attacks.</p><p><code>gpfdists</code> implements SSL security in a client/server scheme with the following attributes and limitations:</p><ul><li><p>Client certificates are required.</p></li><li><p>Multilingual certificates are not supported.</p></li><li><p>A Certificate Revocation List (CRL) is not supported.</p></li><li><p>The <code>TLSv1</code> protocol is used with the <code>TLS_RSA_WITH_AES_128_CBC_SHA</code> encryption algorithm.</p></li><li><p>SSL parameters cannot be changed.</p></li><li><p>SSL renegotiation is supported.</p></li><li><p>The SSL ignore host mismatch parameter is set to <code>false</code>.</p></li><li><p>Private keys containing a passphrase are not supported for the <code>gpfdist</code> file server (<code>server.key</code>) and for the WarehousePG (<code>client.key</code>).</p></li><li><p>Issuing certificates that are appropriate for the operating system in use is the user&#39;s responsibility. Generally, converting certificates as shown in <a href="https://www.sslshopper.com/ssl-converter.html" target="_blank" rel="noreferrer">https://www.sslshopper.com/ssl-converter.html</a> is supported.</p><blockquote><p><strong>Note</strong> A server started with the <code>gpfdist --ssl</code> option can only communicate with the <code>gpfdists</code> protocol. A server that was started with <code>gpfdist</code> without the <code>--ssl</code> option can only communicate with the <code>gpfdist</code> protocol.</p></blockquote></li><li><p>The client certificate file, <code>client.crt</code></p></li><li><p>The client private key file, <code>client.key</code></p></li></ul><p>Use one of the following methods to invoke the <code>gpfdists</code> protocol.</p><ul><li>Run <code>gpfdist</code> with the <code>--ssl</code> option and then use the <code>gpfdists</code> protocol in the <code>LOCATION</code> clause of a <code>CREATE EXTERNAL TABLE</code> statement.</li><li>Use a <code>gpload</code> YAML control file with the <code>SSL</code> option set to true. Running <code>gpload</code> starts the <code>gpfdist</code> server with the <code>--ssl</code> option, then uses the <code>gpfdists</code> protocol.</li></ul><h2 id="about-the-required-certificate-files" tabindex="-1"><a id="about_cert_files"></a> About the Required Certificate Files <a class="header-anchor" href="#about-the-required-certificate-files" aria-label="Permalink to &quot;&lt;a id=&quot;about_cert_files&quot;&gt;&lt;/a&gt; About the Required Certificate Files&quot;">​</a></h2><p>The settings of the <a href="./../../ref_guide/config_params/guc-list.html#verify_gpfdists_cert">verify_gpfdists_cert</a> server configuration parameter (default value <code>true</code>) and the <a href="./../../utility_guide/ref/gpfdist.html">gpfdist</a> <code>--ssl_verify_peer &lt;boolean&gt;</code> option (default value <code>on</code>) control whether SSL certificate authentication is enabled when WarehousePG communicates with the <code>gpfdist</code> utility to either read data from or write data to an external data source. These settings also determine which of the following certificate files must reside in the <code>$PGDATA/gpfdists</code> directory on each WarehousePG segment:</p><ul><li>The client certificate file, <code>client.crt</code></li><li>The client private key file, <code>client.key</code></li><li>The trusted certificate authorities, <code>root.crt</code></li></ul><p>The certificate files required for each <code>verify_gpfdists_cert</code> and <code>--ssl_verify_peer</code> setting combination are identified in the table below:</p><table tabindex="0"><thead><tr><th>verify_gpfdists_cert</th><th>--ssl_verify_peer</th><th>Required Certificate Files</th></tr></thead><tbody><tr><td>on</td><td>on</td><td><code>client.key</code><code>client.crt</code><code>root.crt</code></td></tr><tr><td>on</td><td>off</td><td><code>root.crt</code></td></tr><tr><td>off</td><td>on</td><td><code>client.key</code><code>client.crt</code></td></tr><tr><td>off</td><td>off</td><td>N/A</td></tr></tbody></table>',13)]))}const u=t(d,[["render",r]]);export{f as __pageData,u as default};
