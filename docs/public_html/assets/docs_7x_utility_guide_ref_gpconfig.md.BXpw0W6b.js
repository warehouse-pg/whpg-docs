import{_ as t,c as o,o as a,ag as s}from"./chunks/framework.Ds6Eueu6.js";const g=JSON.parse('{"title":"gpconfig","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/utility_guide/ref/gpconfig.md","filePath":"docs/7x/utility_guide/ref/gpconfig.md"}'),n={name:"docs/7x/utility_guide/ref/gpconfig.md"};function i(c,e,r,p,l,d){return a(),o("div",null,e[0]||(e[0]=[s(`<h1 id="gpconfig" tabindex="-1">gpconfig <a class="header-anchor" href="#gpconfig" aria-label="Permalink to &quot;gpconfig&quot;">​</a></h1><p>Sets server configuration parameters on all segments within a WarehousePG cluster.</p><h2 id="synopsis" tabindex="-1"><a id="section2"></a>Synopsis <a class="header-anchor" href="#synopsis" aria-label="Permalink to &quot;&lt;a id=&quot;section2&quot;&gt;&lt;/a&gt;Synopsis&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gpconfig -c &lt;param_name&gt; -v &lt;value&gt; [-m &lt;coordinator_value&gt; | --coordinatoronly]</span></span>
<span class="line"><span>       | -r &lt;param_name&gt; [--coordinatoronly]</span></span>
<span class="line"><span>       | -l</span></span>
<span class="line"><span>       [--skipvalidation] [--verbose] [--debug]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>gpconfig -s &lt;param_name&gt; [--file | --file-compare] [--verbose] [--debug]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>gpconfig --help</span></span></code></pre></div><h2 id="description" tabindex="-1"><a id="section3"></a>Description <a class="header-anchor" href="#description" aria-label="Permalink to &quot;&lt;a id=&quot;section3&quot;&gt;&lt;/a&gt;Description&quot;">​</a></h2><p>The <code>gpconfig</code> utility allows you to set, unset, or view configuration parameters from the <code>postgresql.conf</code> files of all instances (coordinator, segments, and mirrors) in your WarehousePG cluster. When setting a parameter, you can also specify a different value for the coordinator if necessary. For example, parameters such as <code>max_connections</code> require a different setting on the coordinator than what is used for the segments. If you want to set or unset a global or coordinator only parameter, use the <code>--coordinatoronly</code> option.</p><blockquote><p><strong>Note</strong> For configuration parameters of vartype <code>string</code>, you may not pass values enclosed in single quotes to <code>gpconfig -c</code>.</p></blockquote><p><code>gpconfig</code> can only be used to manage certain parameters. For example, you cannot use it to set parameters such as <code>port</code>, which is required to be distinct for every segment instance. Use the <code>-l</code> (list) option to see a complete list of configuration parameters supported by <code>gpconfig</code>.</p><p>When <code>gpconfig</code> sets a configuration parameter in a segment <code>postgresql.conf</code> file, the new parameter setting always displays at the bottom of the file. When you use <code>gpconfig</code> to remove a configuration parameter setting, <code>gpconfig</code> comments out the parameter in all segment <code>postgresql.conf</code> files, thereby restoring the system default setting. For example, if you use <code>gpconfig</code>to remove (comment out) a parameter and later add it back (set a new value), there will be two instances of the parameter; one that is commented out, and one that is enabled and inserted at the bottom of the <code>postgresql.conf</code> file.</p><p>After setting a parameter, you must restart your WarehousePG cluster or reload the <code>postgresql.conf</code> files in order for the change to take effect. Whether you require a restart or a reload depends on the parameter.</p><p>For more information about the server configuration parameters, see the <em>WarehousePG Reference Guide</em>.</p><p>To show the currently set values for a parameter across the system, use the <code>-s</code> option.</p><p><code>gpconfig</code> uses the following environment variables to connect to the WarehousePG coordinator instance and obtain system configuration information:</p><ul><li><code>PGHOST</code></li><li><code>PGPORT</code></li><li><code>PGUSER</code></li><li><code>PGPASSWORD</code></li><li><code>PGDATABASE</code></li></ul><h2 id="options" tabindex="-1"><a id="section4"></a>Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;&lt;a id=&quot;section4&quot;&gt;&lt;/a&gt;Options&quot;">​</a></h2><p>-c | --change param_name : Changes a configuration parameter setting by adding the new setting to the bottom of the <code>postgresql.conf</code> files.</p><p>-v | --value value : The value to use for the configuration parameter you specified with the <code>-c</code> option. By default, this value is applied to all segments, their mirrors, the coordinator, and the standby coordinator.</p><p>: The utility correctly quotes the value when adding the setting to the <code>postgresql.conf</code> files.</p><p>: To set the value to an empty string, enter empty single quotes (<code>&#39;&#39;</code>).</p><p>-m | --coordinatorvalue coordinator_value : The coordinator value to use for the configuration parameter you specified with the <code>-c</code> option. If specified, this value only applies to the coordinator and standby coordinator. This option can only be used with <code>-v</code>.</p><p>--coordinatoronly : When specified, <code>gpconfig</code> will only edit the coordinator <code>postgresql.conf</code> file.</p><p>-r | --remove param_name : Removes a configuration parameter setting by commenting out the entry in the <code>postgresql.conf</code> files.</p><p>-l | --list : Lists all configuration parameters supported by the <code>gpconfig</code> utility.</p><p>-s | --show param_name : Shows the value for a configuration parameter used on all instances (coordinator and segments) in the WarehousePG cluster. If there is a difference in a parameter value among the instances, the utility displays an error message. Running <code>gpconfig</code> with the <code>-s</code> option reads parameter values directly from the database, and not the <code>postgresql.conf</code> file. If you are using <code>gpconfig</code> to set configuration parameters across all segments, then running <code>gpconfig -s</code> to verify the changes, you might still see the previous (old) values. You must reload the configuration files (<code>gpstop -u</code>) or restart the system (<code>gpstop -r</code>) for changes to take effect.</p><p>--file : For a configuration parameter, shows the value from the <code>postgresql.conf</code> file on all instances (coordinator and segments) in the WarehousePG cluster. If there is a difference in a parameter value among the instances, the utility displays a message. Must be specified with the <code>-s</code> option.</p><p>: For example, the configuration parameter <code>statement_mem</code> is set to 64MB for a user with the <code>ALTER ROLE</code> command, and the value in the <code>postgresql.conf</code> file is 128MB. Running the command <code>gpconfig -s statement_mem --file</code> displays 128MB. The command <code>gpconfig -s statement_mem</code> run by the user displays 64MB.</p><p>: Not valid with the <code>--file-compare</code> option.</p><p>--file-compare : For a configuration parameter, compares the current WarehousePG value with the value in the <code>postgresql.conf</code> files on hosts (coordinator and segments). The values in the <code>postgresql.conf files</code> represent the value when WarehousePG is restarted.</p><p>: If the values are not the same, the utility displays the values from all hosts. If all hosts have the same value, the utility displays a summary report.</p><p>: Not valid with the <code>--file</code> option.</p><p>--skipvalidation : Overrides the system validation checks of <code>gpconfig</code> and allows you to operate on any server configuration parameter, including hidden parameters and restricted parameters that cannot be changed by <code>gpconfig</code>. When used with the <code>-l</code> option (list), it shows the list of restricted parameters.</p><pre><code>&gt; **Caution** Use extreme caution when setting configuration parameters with this option.
</code></pre><p>--verbose : Displays additional log information during <code>gpconfig</code> command execution.</p><p>--debug : Sets logging output to debug level.</p><p>-? | -h | --help : Displays the online help.</p><h2 id="examples" tabindex="-1"><a id="section5"></a>Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;&lt;a id=&quot;section5&quot;&gt;&lt;/a&gt;Examples&quot;">​</a></h2><p>Set the <code>max_connections</code> setting to 100 on all segments and 10 on the coordinator:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gpconfig -c max_connections -v 100 -m 10</span></span></code></pre></div><p>These examples shows the syntax required due to bash shell string processing.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gpconfig -c search_path -v &#39;&quot;\\$user&quot;,public&#39;</span></span>
<span class="line"><span>gpconfig -c dynamic_library_path -v &#39;\\$libdir&#39;</span></span></code></pre></div><p>The configuration parameters are added to the <code>postgresql.conf</code> file.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>search_path=&#39;&quot;$user&quot;,public&#39;</span></span>
<span class="line"><span>dynamic_library_path=&#39;$libdir&#39;</span></span></code></pre></div><p>Comment out all instances of the <code>default_statistics_target</code> configuration parameter, and restore the system default:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gpconfig -r default_statistics_target</span></span></code></pre></div><p>List all configuration parameters supported by <code>gpconfig</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gpconfig -l</span></span></code></pre></div><p>Show the values of a particular configuration parameter across the system:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gpconfig -s max_connections</span></span></code></pre></div><h2 id="see-also" tabindex="-1"><a id="section6"></a>See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;&lt;a id=&quot;section6&quot;&gt;&lt;/a&gt;See Also&quot;">​</a></h2><p><a href="./gpstop.html">gpstop</a></p>`,50)]))}const u=t(n,[["render",i]]);export{g as __pageData,u as default};
