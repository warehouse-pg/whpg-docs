import{_ as a,c as e,o,ag as i}from"./chunks/framework.Ds6Eueu6.js";const g=JSON.parse('{"title":"Enabling Coordinator Mirroring","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/admin_guide/ha/enabling-coordinator-mirroring.md","filePath":"docs/7x/admin_guide/ha/enabling-coordinator-mirroring.md"}'),n={name:"docs/7x/admin_guide/ha/enabling-coordinator-mirroring.md"};function r(s,t,d,c,l,h){return o(),e("div",null,t[0]||(t[0]=[i('<h1 id="enabling-coordinator-mirroring" tabindex="-1">Enabling Coordinator Mirroring <a class="header-anchor" href="#enabling-coordinator-mirroring" aria-label="Permalink to &quot;Enabling Coordinator Mirroring&quot;">​</a></h1><hr><p>You can configure a new WarehousePG cluster with a standby coordinator using <code>gpinitsystem</code> or enable it later using <code>gpinitstandby</code>. This topic assumes you are adding a standby coordinator to an existing system that was initialized without one.</p><p>For information about the utilities <a href="./../../utility_guide/ref/gpinitsystem.html">gpinitsystem</a> and <a href="./../../utility_guide/ref/gpinitstandby.html">gpinitstandby</a>, see the <em>WarehousePG Utility Guide</em>.</p><h2 id="to-add-a-standby-coordinator-to-an-existing-system" tabindex="-1"><a id="ki160203"></a>To add a standby coordinator to an existing system <a class="header-anchor" href="#to-add-a-standby-coordinator-to-an-existing-system" aria-label="Permalink to &quot;&lt;a id=&quot;ki160203&quot;&gt;&lt;/a&gt;To add a standby coordinator to an existing system&quot;">​</a></h2><ol><li><p>Ensure the standby coordinator host is installed and configured: <code>gpadmin</code> system user created, WarehousePG binaries installed, environment variables set, SSH keys exchanged, and that the data directories and tablespace directories, if needed, are created.</p></li><li><p>Run the <code>gpinitstandby</code> utility on the currently active <em>primary</em> coordinator host to add a standby coordinator host to your WarehousePG cluster. For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ gpinitstandby -s scdw</span></span></code></pre></div><p>Where <code>-s</code> specifies the standby coordinator host name.</p></li></ol><p>To switch operations to a standby coordinator, see <a href="./recovering-a-failed-coordinator.html">Recovering a Failed Coordinator</a>.</p><h2 id="to-check-the-status-of-the-coordinator-mirroring-process-optional" tabindex="-1"><a id="tocheck"></a>To check the status of the coordinator mirroring process (optional) <a class="header-anchor" href="#to-check-the-status-of-the-coordinator-mirroring-process-optional" aria-label="Permalink to &quot;&lt;a id=&quot;tocheck&quot;&gt;&lt;/a&gt;To check the status of the coordinator mirroring process \\(optional\\)&quot;">​</a></h2><p>You can run the <code>gpstate</code> utility with the <code>-f</code> option to display details of the standby coordinator host.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ gpstate -f</span></span></code></pre></div><p>The standby coordinator status should be passive, and the WAL sender state should be streaming.</p><p>For information about the <a href="./../../utility_guide/ref/gpstate.html">gpstate</a> utility, see the <em>WarehousePG Utility Guide</em>.</p><p><strong>Parent topic:</strong> <a href="./../ha/enabling-mirroring-in-warehousepg.html">Enabling Mirroring in WarehousePG</a></p>',13)]))}const u=a(n,[["render",r]]);export{g as __pageData,u as default};
