import{_ as a,c as t,o as i,ag as o}from"./chunks/framework.Ds6Eueu6.js";const u=JSON.parse('{"title":"Changed Behavior with GPORCA","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/admin_guide/query/topics/query-piv-opt-changed.md","filePath":"docs/7x/admin_guide/query/topics/query-piv-opt-changed.md"}'),n={name:"docs/7x/admin_guide/query/topics/query-piv-opt-changed.md"};function r(s,e,l,d,p,h){return i(),t("div",null,e[0]||(e[0]=[o('<h1 id="changed-behavior-with-gporca" tabindex="-1">Changed Behavior with GPORCA <a class="header-anchor" href="#changed-behavior-with-gporca" aria-label="Permalink to &quot;Changed Behavior with GPORCA&quot;">â€‹</a></h1><hr><p>There are changes to WarehousePG behavior with the GPORCA optimizer enabled (the default) as compared to the Postgres-based planner.</p><ul><li><p>UPDATE operations on distribution keys are allowed.</p></li><li><p>UPDATE operations on partitioned keys are allowed.</p></li><li><p>Queries against uniform partitioned tables are supported.</p></li><li><p>The command CREATE TABLE AS distributes table data randomly if the DISTRIBUTED BY clause is not specified and no primary or unique keys are specified.</p></li><li><p>Non-deterministic updates not allowed. The following UPDATE command returns an error.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>update r set b =  r.b  + 1 from s where  r.a  in (select a from s);</span></span></code></pre></div></li><li><p>Statistics are required on the root table of a partitioned table. The ANALYZE command generates statistics on both the root partitioned table and individual leaf partitions. See the ROOTPARTITION clause for ANALYZE command.</p></li><li><p>Additional Result nodes in the query plan:</p><ul><li>Query plan Assert operator.</li><li>Query plan Partition selector operator.</li><li>Query plan Split operator.</li></ul></li><li><p>When running EXPLAIN, the query plan generated by GPORCA is different than the plan generated by the Postgres-based planner.</p></li><li><p>WarehousePG adds the log file message <code>Planner produced plan</code> when GPORCA is enabled and WarehousePG falls back to the Postgres-based planner to generate the query plan.</p></li><li><p>WarehousePG issues a warning when statistics are missing from one or more table columns. When running an SQL command with GPORCA, WarehousePG issues a warning if the command performance could be improved by collecting statistics on a column or set of columns referenced by the command. The warning is issued on the command line and information is added to the WarehousePG log file. For information about collecting statistics on table columns, see the ANALYZE command in the <em>WarehousePG Reference Guide</em>.</p></li></ul><p><strong>Parent topic:</strong> <a href="./../../query/topics/query-piv-optimizer.html">About GPORCA</a></p>',5)]))}const m=a(n,[["render",r]]);export{u as __pageData,m as default};
