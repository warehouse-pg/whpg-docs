import{_ as o,c as a,o as t,ag as r}from"./chunks/framework.Ds6Eueu6.js";const g=JSON.parse('{"title":"Handling Load Errors","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/admin_guide/load/topics/g-handling-load-errors.md","filePath":"docs/7x/admin_guide/load/topics/g-handling-load-errors.md"}'),n={name:"docs/7x/admin_guide/load/topics/g-handling-load-errors.md"};function i(s,e,d,l,c,p){return t(),a("div",null,e[0]||(e[0]=[r(`<h1 id="handling-load-errors" tabindex="-1">Handling Load Errors <a class="header-anchor" href="#handling-load-errors" aria-label="Permalink to &quot;Handling Load Errors&quot;">​</a></h1><hr><p>Readable external tables are most commonly used to select data to load into regular database tables. You use the <code>CREATE TABLE AS SELECT</code> or <code>INSERT INTO</code>commands to query the external table data. By default, if the data contains an error, the entire command fails and the data is not loaded into the target database table.</p><p>The <code>SEGMENT REJECT LIMIT</code> clause allows you to isolate format errors in external table data and to continue loading correctly formatted rows. Use <code>SEGMENT REJECT LIMIT</code>to set an error threshold, specifying the reject limit <code>count</code> as number of <code>ROWS</code> (the default) or as a <code>PERCENT</code> of total rows (1-100).</p><p>The entire external table operation is cancelled, and no rows are processed, if the number of error rows reaches the <code>SEGMENT REJECT LIMIT</code>. The limit of error rows is per-segment, not per entire operation. The operation processes all good rows, and it discards and optionally logs formatting errors for erroneous rows, if the number of error rows does not reach the <code>SEGMENT REJECT LIMIT</code>.</p><p>The <code>LOG ERRORS</code> clause allows you to keep error rows for further examination. For information about the <code>LOG ERRORS</code> clause, see the <code>CREATE EXTERNAL TABLE</code> command in the <em>WarehousePG Reference Guide</em>.</p><p>When you set <code>SEGMENT REJECT LIMIT</code>, WarehousePG scans the external data in single row error isolation mode. Single row error isolation mode applies to external data rows with format errors such as extra or missing attributes, attributes of a wrong data type, or invalid client encoding sequences. WarehousePG does not check constraint errors, but you can filter constraint errors by limiting the <code>SELECT</code> from an external table at runtime. For example, to eliminate duplicate key errors:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>=# INSERT INTO table_with_pkeys </span></span>
<span class="line"><span>    SELECT DISTINCT * FROM external_table;</span></span></code></pre></div><blockquote><p><strong>Note</strong> When loading data with the <code>COPY</code> command or an external table, the value of the server configuration parameter <code>gp_initial_bad_row_limit</code> limits the initial number of rows that are processed that are not formatted properly. The default is to stop processing if the first 1000 rows contain formatting errors. See the <em>WarehousePG Reference Guide</em> for information about the parameter.</p></blockquote><ul><li><p><strong><a href="./../../load/topics/g-define-an-external-table-with-single-row-error-isolation.html">Define an External Table with Single Row Error Isolation</a></strong></p></li><li><p><strong><a href="./../../load/topics/g-create-an-error-table-and-declare-a-reject-limit.html">Capture Row Formatting Errors and Declare a Reject Limit</a></strong></p></li><li><p><strong><a href="./../../load/topics/g-viewing-bad-rows-in-the-error-table-or-error-log.html">Viewing Bad Rows in the Error Log</a></strong></p></li><li><p><strong><a href="./../../load/topics/g-moving-data-between-tables.html">Moving Data between Tables</a></strong></p></li></ul><p><strong>Parent topic:</strong> <a href="./../../load/topics/g-loading-and-unloading-data.html">Loading and Unloading Data</a></p>`,11)]))}const m=o(n,[["render",i]]);export{g as __pageData,m as default};
