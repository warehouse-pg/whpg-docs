import{_ as a,c as t,o as n,ag as s}from"./chunks/framework.Ds6Eueu6.js";const b=JSON.parse('{"title":"reindexdb","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/utility_guide/ref/reindexdb.md","filePath":"docs/7x/utility_guide/ref/reindexdb.md"}'),o={name:"docs/7x/utility_guide/ref/reindexdb.md"};function i(d,e,r,c,l,p){return n(),t("div",null,e[0]||(e[0]=[s(`<h1 id="reindexdb" tabindex="-1">reindexdb <a class="header-anchor" href="#reindexdb" aria-label="Permalink to &quot;reindexdb&quot;">​</a></h1><p>Rebuilds indexes in a database.</p><h2 id="synopsis" tabindex="-1"><a id="section2"></a>Synopsis <a class="header-anchor" href="#synopsis" aria-label="Permalink to &quot;&lt;a id=&quot;section2&quot;&gt;&lt;/a&gt;Synopsis&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>reindexdb [&lt;connection-option&gt; ...] [&lt;option&gt; ...] [-S | --schema &lt;schema&gt;] ...</span></span>
<span class="line"><span>        [-t | --table &lt;table&gt;] </span></span>
<span class="line"><span>        [-i | --index &lt;index&gt;] ... [&lt;dbname&gt;]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>reindexdb [&lt;connection-option&gt; ...] [&lt;option&gt; ...] -a | --all</span></span>
<span class="line"><span></span></span>
<span class="line"><span>reindexdb [&lt;connection-option&gt; ...] [&lt;option&gt; ...] -s | --system [&lt;dbname&gt;]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>reindexdb -? | --help</span></span>
<span class="line"><span></span></span>
<span class="line"><span>reindexdb -V | --version</span></span></code></pre></div><h2 id="description" tabindex="-1"><a id="section3"></a>Description <a class="header-anchor" href="#description" aria-label="Permalink to &quot;&lt;a id=&quot;section3&quot;&gt;&lt;/a&gt;Description&quot;">​</a></h2><p><code>reindexdb</code> is a utility for rebuilding indexes in WarehousePG.</p><p><code>reindexdb</code> is a wrapper around the SQL command <a href="./../../ref_guide/sql_commands/REINDEX.html">REINDEX</a>. There is no effective difference between reindexing databases via this utility and via other methods for accessing the server.</p><h2 id="options" tabindex="-1"><a id="section4"></a>Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;&lt;a id=&quot;section4&quot;&gt;&lt;/a&gt;Options&quot;">​</a></h2><p><code>reindexdb</code> accepts the following command-line arguments:</p><p>-a --all : Reindex all databases.</p><p>[-d] dbname [--dbname=]dbname : Specifies the name of the database to be reindexed, when <code>-a</code> or <code>--all</code> is not used. If this is not specified, WarehousePG reads the database name from the environment variable <code>PGDATABASE</code>. If that is not set, the user name specified for the connection is used. The dbname can be a <a href="https://www.postgresql.org/docs/12/libpq-connect.html#LIBPQ-CONNSTRING" target="_blank" rel="noreferrer">connection string</a>. If so, connection string parameters will override any conflicting command line options.</p><p>-e --echo : Echo the commands that <code>reindexdb</code> generates and sends to the server.</p><p>-i index --index=index : Recreate index only. You can recreate multiple indexes by specifying multiple <code>-i</code> switches.</p><p>-q --quiet : Do not display progress messages.</p><p>-s --system : Reindex system catalogs only.</p><p>-S schema --schema=schema : Reindex schema only. You can reindex multiple schemas by specifying multiple <code>-S</code> switches.</p><p>-t table --table=table : Reindex table only. You can reindex multiple tables by specifying multiple <code>-t</code> switches.</p><p>-v --verbose : Print detailed information during processing.</p><p>-V --version : Print the <code>reindexdb</code> version and exit.</p><p>-? --help : Show help about <code>reindexdb</code> command line arguments, and exit.</p><p><strong>Connection Options</strong></p><p><code>reindexdb</code> also accepts the following command-line arguments for connection parameters:</p><p>-h host --host=host : Specifies the host name of the machine on which the WarehousePG coordinator database server is running. If not specified, reads from the environment variable <code>PGHOST</code> or defaults to localhost.</p><p>-p port --port=port : Specifies the TCP port on which the WarehousePG coordinator database server is listening for connections. If not specified, reads from the environment variable <code>PGPORT</code> or defaults to 5432.</p><p>-U username --username=username : The database user name to connect as. If not specified, reads from the environment variable <code>PGUSER</code> or defaults to the current system user name.</p><p>-w --no-password : Never issue a password prompt. If the server requires password authentication and a password is not available by other means such as a <code>.pgpass</code> file, the connection attempt will fail. This option can be useful in batch jobs and scripts where no user is present to enter a password.</p><p>-W --password : Force <code>reindexdb</code> to prompt for a password before connecting to a database. : This option is never essential, since <code>reindexdb</code> automatically prompts for a password if the server demands password authentication. However, <code>reindexdb</code> will waste a connection attempt finding out that the server wants a password. In some cases it is worth typing <code>-W</code> to avoid the extra connection attempt.</p><p>--maintenance-db=dbname : Specifies the name of the database to connect to discover what other databases should be reindexed, when <code>-a</code> or <code>--all</code> is used. If not specified, the <code>postgres</code> database will be used, and if that does not exist, <code>template1</code> will be used. This can be a <a href="https://www.postgresql.org/docs/12/libpq-connect.html#LIBPQ-CONNSTRING" target="_blank" rel="noreferrer">connection</a>. If so, connection string parameters will override any conflicting command line options. Also, connection string parameters other than the database name itself will be re-used when connecting to other databases.</p><h2 id="notes" tabindex="-1"><a id="section6"></a>Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;&lt;a id=&quot;section6&quot;&gt;&lt;/a&gt;Notes&quot;">​</a></h2><p><code>reindexdb</code> causes locking of system catalog tables, which could affect currently running queries. To avoid disrupting ongoing business operations, schedule the <code>reindexb</code> operation during a period of low activity.</p><p><code>reindexdb</code> might need to connect several times to the coordinator server, asking for a password each time. It is convenient to have a <code>~/.pgpass</code> file in such cases.</p><h2 id="environment" tabindex="-1"><a id="section6e"></a>Environment <a class="header-anchor" href="#environment" aria-label="Permalink to &quot;&lt;a id=&quot;section6e&quot;&gt;&lt;/a&gt;Environment&quot;">​</a></h2><p>PGDATABASE PGHOST PGPORT PGUSER : Default connection parameters.</p><p>PG_COLOR : Specifies whether to use color in diagnostic messages. Possible values are <code>always</code>, <code>auto</code>, and <code>never</code>.</p><p>This utility, like most other WarehousePG utilities, also uses the environment variables supported by <code>libpq</code>.</p><h2 id="diagnostics" tabindex="-1"><a id="section6d"></a>Diagnostics <a class="header-anchor" href="#diagnostics" aria-label="Permalink to &quot;&lt;a id=&quot;section6d&quot;&gt;&lt;/a&gt;Diagnostics&quot;">​</a></h2><p>In case of difficulty, see <a href="./../../ref_guide/sql_commands/REINDEX.html">REINDEX</a> and <a href="./psql.html">psql</a> for discussions of potential problems and error messages. The database server must be running at the targeted host. Also, any default connection settings and environment variables used by the <code>libpq</code> front-end library will apply.</p><h2 id="notes-1" tabindex="-1"><a id="section6n"></a>Notes <a class="header-anchor" href="#notes-1" aria-label="Permalink to &quot;&lt;a id=&quot;section6n&quot;&gt;&lt;/a&gt;Notes&quot;">​</a></h2><p><code>reindexdb</code> might need to connect several times to the WarehousePG server, asking for a password each time. It is convenient to have a <code>~/.pgpass</code> file in such cases.</p><h2 id="examples" tabindex="-1"><a id="section7"></a>Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;&lt;a id=&quot;section7&quot;&gt;&lt;/a&gt;Examples&quot;">​</a></h2><p>To reindex the database named <code>mydb</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>reindexdb mydb</span></span></code></pre></div><p>To reindex the table <code>foo</code> and the index <code>bar</code> in a database named <code>abcd</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>reindexdb --table=foo --index=bar abcd</span></span></code></pre></div><h2 id="see-also" tabindex="-1"><a id="section8"></a>See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;&lt;a id=&quot;section8&quot;&gt;&lt;/a&gt;See Also&quot;">​</a></h2><p><a href="./../../ref_guide/sql_commands/REINDEX.html">REINDEX</a></p>`,46)]))}const u=a(o,[["render",i]]);export{b as __pageData,u as default};
