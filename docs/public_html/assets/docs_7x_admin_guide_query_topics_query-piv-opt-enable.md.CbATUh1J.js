import{_ as a,c as t,o,ag as i}from"./chunks/framework.Ds6Eueu6.js";const h=JSON.parse('{"title":"Activating and Deactivating GPORCA","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/admin_guide/query/topics/query-piv-opt-enable.md","filePath":"docs/7x/admin_guide/query/topics/query-piv-opt-enable.md"}'),r={name:"docs/7x/admin_guide/query/topics/query-piv-opt-enable.md"};function s(n,e,p,l,c,d){return o(),t("div",null,e[0]||(e[0]=[i('<h1 id="activating-and-deactivating-gporca" tabindex="-1">Activating and Deactivating GPORCA <a class="header-anchor" href="#activating-and-deactivating-gporca" aria-label="Permalink to &quot;Activating and Deactivating GPORCA&quot;">​</a></h1><hr><p>By default, WarehousePG uses GPORCA instead of the Postgres-based planner. Server configuration parameters activate or deactivate GPORCA.</p><p>Although GPORCA is on by default, you can configure GPORCA usage at the system, database, session, or query level using the optimizer parameter. Refer to one of the following sections if you want to change the default behavior:</p><ul><li><a href="#topic_byp_lqk_br">Enabling GPORCA for a System</a></li><li><a href="#topic_pzr_3db_3r">Enabling GPORCA for a Database</a></li><li><a href="#topic_lx4_vqk_br">Enabling GPORCA for a Session or a Query</a></li></ul><blockquote><p><strong>Note</strong> You can deactivate the ability to activate or deactivate GPORCA with the server configuration parameter optimizer_control. For information about the server configuration parameters, see the <em>WarehousePG Reference Guide</em>.</p></blockquote><p><strong>Parent topic:</strong> <a href="./../../query/topics/query-piv-optimizer.html">About GPORCA</a></p><h2 id="enabling-gporca-for-a-system" tabindex="-1"><a id="topic_byp_lqk_br"></a>Enabling GPORCA for a System <a class="header-anchor" href="#enabling-gporca-for-a-system" aria-label="Permalink to &quot;&lt;a id=&quot;topic_byp_lqk_br&quot;&gt;&lt;/a&gt;Enabling GPORCA for a System&quot;">​</a></h2><p>Set the server configuration parameter optimizer for the WarehousePG cluster.</p><ol><li><p>Log into the WarehousePG coordinator host as <code>gpadmin</code>, the WarehousePG administrator.</p></li><li><p>Set the values of the server configuration parameters. These WarehousePG gpconfig utility commands sets the value of the parameters to <code>on</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ gpconfig -c optimizer -v on --coordinatoronly</span></span></code></pre></div></li><li><p>Restart WarehousePG. This WarehousePG gpstop utility command reloads the <code>postgresql.conf</code> files of the coordinator and segments without shutting down WarehousePG.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gpstop -u</span></span></code></pre></div></li></ol><h2 id="enabling-gporca-for-a-database" tabindex="-1"><a id="topic_pzr_3db_3r"></a>Enabling GPORCA for a Database <a class="header-anchor" href="#enabling-gporca-for-a-database" aria-label="Permalink to &quot;&lt;a id=&quot;topic_pzr_3db_3r&quot;&gt;&lt;/a&gt;Enabling GPORCA for a Database&quot;">​</a></h2><p>Set the server configuration parameter optimizer for individual WarehousePGs with the ALTER DATABASE command. For example, this command enables GPORCA for the database <em>test_db</em>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; ALTER DATABASE test_db SET OPTIMIZER = ON ;</span></span></code></pre></div><h2 id="enabling-gporca-for-a-session-or-a-query" tabindex="-1"><a id="topic_lx4_vqk_br"></a>Enabling GPORCA for a Session or a Query <a class="header-anchor" href="#enabling-gporca-for-a-session-or-a-query" aria-label="Permalink to &quot;&lt;a id=&quot;topic_lx4_vqk_br&quot;&gt;&lt;/a&gt;Enabling GPORCA for a Session or a Query&quot;">​</a></h2><p>You can use the SET command to set optimizer server configuration parameter for a session. For example, after you use the psql utility to connect to WarehousePG, this SET command enables GPORCA:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; set optimizer = on ;</span></span></code></pre></div><p>To set the parameter for a specific query, include the SET command prior to running the query.</p>',17)]))}const g=a(r,[["render",s]]);export{h as __pageData,g as default};
