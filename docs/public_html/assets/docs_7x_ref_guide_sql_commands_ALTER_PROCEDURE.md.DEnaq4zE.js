import{_ as a,c as t,o as n,ag as s}from"./chunks/framework.Ds6Eueu6.js";const u=JSON.parse('{"title":"ALTER PROCEDURE","description":"","frontmatter":{},"headers":[],"relativePath":"docs/7x/ref_guide/sql_commands/ALTER_PROCEDURE.md","filePath":"docs/7x/ref_guide/sql_commands/ALTER_PROCEDURE.md"}'),o={name:"docs/7x/ref_guide/sql_commands/ALTER_PROCEDURE.md"};function i(r,e,p,c,d,l){return n(),t("div",null,e[0]||(e[0]=[s(`<h1 id="alter-procedure" tabindex="-1">ALTER PROCEDURE <a class="header-anchor" href="#alter-procedure" aria-label="Permalink to &quot;ALTER PROCEDURE&quot;">​</a></h1><p>Changes the definition of a procedure.</p><h2 id="synopsis" tabindex="-1"><a id="section2"></a>Synopsis <a class="header-anchor" href="#synopsis" aria-label="Permalink to &quot;&lt;a id=&quot;section2&quot;&gt;&lt;/a&gt;Synopsis&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER PROCEDURE &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ] </span></span>
<span class="line"><span>   &lt;action&gt; [, ... ] [RESTRICT]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ALTER PROCEDURE &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ]</span></span>
<span class="line"><span>   RENAME TO &lt;new_name&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ALTER PROCEDURE &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ]</span></span>
<span class="line"><span>   OWNER TO { &lt;new_owner&gt; | CURRENT_USER | SESSION_USER }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ALTER PROCEDURE &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ]</span></span>
<span class="line"><span>   SET SCHEMA &lt;new_schema&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ALTER PROCEDURE &lt;name&gt; [ ( [ [&lt;argmode&gt;] [&lt;argname&gt;] &lt;argtype&gt; [, ...] ] ) ]</span></span>
<span class="line"><span>   DEPENDS ON EXTENSION &lt;extension_name&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>where &lt;action&gt; is one of:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    { [EXTERNAL] SECURITY INVOKER | [EXTERNAL] SECURITY DEFINER }</span></span>
<span class="line"><span>    SET &lt;configuration_parameter&gt; { TO | = } { &lt;value&gt; | DEFAULT }</span></span>
<span class="line"><span>    SET &lt;configuration_parameter&gt; FROM CURRENT</span></span>
<span class="line"><span>    RESET &lt;configuration_parameter&gt;</span></span>
<span class="line"><span>    RESET ALL</span></span></code></pre></div><h2 id="description" tabindex="-1"><a id="section3"></a>Description <a class="header-anchor" href="#description" aria-label="Permalink to &quot;&lt;a id=&quot;section3&quot;&gt;&lt;/a&gt;Description&quot;">​</a></h2><p><code>ALTER PROCEDURE</code> changes the definition of a procedure.</p><p>You must own the procedure to use <code>ALTER PROCEDURE</code>. To change a procedure&#39;s schema, you must also have <code>CREATE</code> privilege on the new schema. To alter the owner, you must also be a direct or indirect member of the new owning role, and that role must have <code>CREATE</code> privilege on the procedure&#39;s schema. (These restrictions enforce that altering the owner doesn&#39;t do anything you couldn&#39;t do by dropping and recreating the procedure. However, a superuser can alter ownership of any procedure anyway.)</p><h2 id="parameters" tabindex="-1"><a id="section4"></a>Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;&lt;a id=&quot;section4&quot;&gt;&lt;/a&gt;Parameters&quot;">​</a></h2><p>name : The name (optionally schema-qualified) of an existing procedure. If no argument list is specified, the name must be unique in its schema.</p><p>argmode : The mode of an argument: <code>IN</code> or <code>VARIADIC</code>. If omitted, the default is <code>IN</code>.</p><p>argname : The name of an argument. Note that <code>ALTER PROCEDURE</code> does not actually pay any attention to argument names, since only the argument data types are needed to determine the function&#39;s identity.</p><p>argtype : The data type(s) of the procedure&#39;s arguments (optionally schema-qualified), if any.</p><p>new_name : The new name of the procedure.</p><p>new_owner : The new owner of the procedure. Note that if the procedure is marked <code>SECURITY DEFINER</code>, it will subsequently run as the new owner.</p><p>new_schema : The new schema for the procedure.</p><p>extension_name : The name of the extension that the procedure is to depend on.</p><p>[ EXTERNAL ] SECURITY INVOKER [ EXTERNAL ] SECURITY DEFINER : Change whether the procedure is a security definer or not. The key word <code>EXTERNAL</code> is ignored for SQL conformance. See <a href="./CREATE_PROCEDURE.html">CREATE PROCEDURE</a> for more information about this capability.</p><p>configuration_parameter value : Set or change the value of a configuration parameter when the procedure is called. If value is <code>DEFAULT</code> or, equivalently, <code>RESET</code> is used, the procedure-local setting is removed, and the procedure runs with the value present in its environment. Use <code>RESET ALL</code> to clear all procedure-local settings. <code>SET FROM CURRENT</code> saves the value of the parameter that is current when <code>ALTER PROCEDURE</code> is run as the value to be applied when the procedure is entered. : See <a href="./SET.html">SET</a> for more information about allowed parameter names and values.</p><p>RESTRICT : Ignored for conformance with the SQL standard.</p><h2 id="notes" tabindex="-1"><a id="section5"></a>Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;&lt;a id=&quot;section5&quot;&gt;&lt;/a&gt;Notes&quot;">​</a></h2><p>WarehousePG has limitations on the use of functions defined as <code>STABLE</code> or <code>VOLATILE</code>. See <a href="./CREATE_FUNCTION.html">CREATE FUNCTION</a> for more information.</p><h2 id="examples" tabindex="-1"><a id="section6"></a>Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;&lt;a id=&quot;section6&quot;&gt;&lt;/a&gt;Examples&quot;">​</a></h2><p>To rename the procedure <code>insert_data</code> with two arguments of type <code>integer</code> to <code>insert_record</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER PROCEDURE insert_data(integer, integer) RENAME TO insert_record;</span></span></code></pre></div><p>To change the owner of the procedure <code>insert_data</code> with two arguments of type <code>integer</code> to <code>joe</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER PROCEDURE insert_data(integer, integer) OWNER TO joe;</span></span></code></pre></div><p>To change the schema of the procedure <code>insert_data</code> with two arguments of type <code>integer</code> to <code>accounting</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER PROCEDURE insert_data(integer, integer) SET SCHEMA accounting;</span></span></code></pre></div><p>To mark the procedure <code>insert_data(integer, integer)</code> as being dependent on the extension <code>myext</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER PROCEDURE insert_data(integer, integer) DEPENDS ON EXTENSION myext;</span></span></code></pre></div><p>To adjust the search path that is automatically set for a procedure:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER PROCEDURE check_password(text) SET search_path = admin, pg_temp;</span></span></code></pre></div><p>To disable automatic setting of <code>search_path</code> for a procedure:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ALTER PROCEDURE check_password(text) RESET search_path;</span></span></code></pre></div><p>The procedure will now execute with whatever search path is used by its caller.</p><h2 id="compatibility" tabindex="-1"><a id="section7"></a>Compatibility <a class="header-anchor" href="#compatibility" aria-label="Permalink to &quot;&lt;a id=&quot;section7&quot;&gt;&lt;/a&gt;Compatibility&quot;">​</a></h2><p>This statement is partially compatible with the <code>ALTER PROCEDURE</code> statement in the SQL standard. The standard allows more properties of a procedure to be modified, but does not provide the ability to rename a procedure, make a procedure a security definer, attach configuration parameter values to a procedure, or change the owner, schema, or volatility of a procedure. The standard also requires the <code>RESTRICT</code> key word, which is optional in WarehousePG.</p><h2 id="see-also" tabindex="-1"><a id="section8"></a>See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;&lt;a id=&quot;section8&quot;&gt;&lt;/a&gt;See Also&quot;">​</a></h2><p><a href="./CREATE_PROCEDURE.html">CREATE PROCEDURE</a>, <a href="./DROP_PROCEDURE.html">DROP PROCEDURE</a></p><p><strong>Parent topic:</strong> <a href="./../sql_commands/sql_ref.html">SQL Commands</a></p>`,40)]))}const E=a(o,[["render",i]]);export{u as __pageData,E as default};
